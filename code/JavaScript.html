<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>语言特性 | 前端规范</title>
    <meta name="description" content="前端开发规范">
    <link rel="shortcut icon" type="image/x-icon" href="/img/favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.60dc1e36.css" as="style"><link rel="preload" href="/assets/js/app.4311548a.js" as="script"><link rel="preload" href="/assets/js/2.d69afe28.js" as="script"><link rel="preload" href="/assets/js/8.1e80f925.js" as="script"><link rel="prefetch" href="/assets/js/10.6d1500fd.js"><link rel="prefetch" href="/assets/js/11.2f59d062.js"><link rel="prefetch" href="/assets/js/12.9e31b8c8.js"><link rel="prefetch" href="/assets/js/13.06fcc462.js"><link rel="prefetch" href="/assets/js/14.679c2d36.js"><link rel="prefetch" href="/assets/js/15.a5a8594b.js"><link rel="prefetch" href="/assets/js/16.1a5406df.js"><link rel="prefetch" href="/assets/js/17.90674b08.js"><link rel="prefetch" href="/assets/js/18.4a26d176.js"><link rel="prefetch" href="/assets/js/3.66b60bfb.js"><link rel="prefetch" href="/assets/js/4.62ae4dbf.js"><link rel="prefetch" href="/assets/js/5.f4019623.js"><link rel="prefetch" href="/assets/js/6.54e8dec0.js"><link rel="prefetch" href="/assets/js/7.19080535.js"><link rel="prefetch" href="/assets/js/9.d9b90d6e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.60dc1e36.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">前端规范</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/development/" class="nav-link">开发流程规范</a></div><div class="nav-item"><a href="/code/" class="nav-link router-link-active">代码规范</a></div><div class="nav-item"><a href="/doc/" class="nav-link">文档规范</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/development/" class="nav-link">开发流程规范</a></div><div class="nav-item"><a href="/code/" class="nav-link router-link-active">代码规范</a></div><div class="nav-item"><a href="/doc/" class="nav-link">文档规范</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>代码规范</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/code/CSS.html" class="sidebar-link">CSS</a></li><li><a href="/code/HTML.html" class="sidebar-link">HTML</a></li><li><a href="/code/JavaScript.html" class="active sidebar-link">JavaScript</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/code/JavaScript.html#语言特性" class="sidebar-link">语言特性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/code/JavaScript.html#变量" class="sidebar-link">变量</a></li><li class="sidebar-sub-header"><a href="/code/JavaScript.html#类型检测" class="sidebar-link">类型检测</a></li><li class="sidebar-sub-header"><a href="/code/JavaScript.html#类型转换" class="sidebar-link">类型转换</a></li><li class="sidebar-sub-header"><a href="/code/JavaScript.html#对象" class="sidebar-link">对象</a></li><li class="sidebar-sub-header"><a href="/code/JavaScript.html#数组" class="sidebar-link">数组</a></li><li class="sidebar-sub-header"><a href="/code/JavaScript.html#字符串" class="sidebar-link">字符串</a></li><li class="sidebar-sub-header"><a href="/code/JavaScript.html#函数" class="sidebar-link">函数</a></li><li class="sidebar-sub-header"><a href="/code/JavaScript.html#解构赋值" class="sidebar-link">解构赋值</a></li><li class="sidebar-sub-header"><a href="/code/JavaScript.html#条件" class="sidebar-link">条件</a></li><li class="sidebar-sub-header"><a href="/code/JavaScript.html#javascript-中的真假" class="sidebar-link">javascript 中的真假</a></li><li class="sidebar-sub-header"><a href="/code/JavaScript.html#循环" class="sidebar-link">循环</a></li></ul></li><li class="sidebar-sub-header"><a href="/code/JavaScript.html#代码注释" class="sidebar-link">代码注释</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/code/JavaScript.html#单行注释" class="sidebar-link">单行注释</a></li><li class="sidebar-sub-header"><a href="/code/JavaScript.html#多行注释" class="sidebar-link">多行注释</a></li><li class="sidebar-sub-header"><a href="/code/JavaScript.html#文件注释" class="sidebar-link">文件注释</a></li><li class="sidebar-sub-header"><a href="/code/JavaScript.html#类class注释" class="sidebar-link">类Class注释</a></li><li class="sidebar-sub-header"><a href="/code/JavaScript.html#函数-方法注释" class="sidebar-link">函数/方法注释</a></li><li class="sidebar-sub-header"><a href="/code/JavaScript.html#事件注释" class="sidebar-link">事件注释</a></li><li class="sidebar-sub-header"><a href="/code/JavaScript.html#常量注释" class="sidebar-link">常量注释</a></li><li class="sidebar-sub-header"><a href="/code/JavaScript.html#复杂类型注释" class="sidebar-link">复杂类型注释</a></li><li class="sidebar-sub-header"><a href="/code/JavaScript.html#amd-模块注释" class="sidebar-link">AMD 模块注释</a></li></ul></li></ul></li><li><a href="/code/image.html" class="sidebar-link">image</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="语言特性"><a href="#语言特性" class="header-anchor">#</a> 语言特性</h2> <h3 id="变量"><a href="#变量" class="header-anchor">#</a> 变量</h3> <p>基本类型</p> <ul><li>字符串</li> <li>数值</li> <li>布尔类型</li> <li>null</li> <li>undefined</li></ul> <p>复杂类型</p> <ul><li>object</li> <li>array</li> <li>function</li></ul> <h3 id="类型检测"><a href="#类型检测" class="header-anchor">#</a> 类型检测</h3> <p>类型检测优先使用 typeof。对象类型检测使用 instanceof。null 或 undefined 的检测使用 == null</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// string</span>
<span class="token keyword">typeof</span> variable <span class="token operator">===</span> <span class="token string">'string'</span>

<span class="token comment">// number</span>
<span class="token keyword">typeof</span> variable <span class="token operator">===</span> <span class="token string">'number'</span>

<span class="token comment">// boolean</span>
<span class="token keyword">typeof</span> variable <span class="token operator">===</span> <span class="token string">'boolean'</span>

<span class="token comment">// Function</span>
<span class="token keyword">typeof</span> variable <span class="token operator">===</span> <span class="token string">'function'</span>

<span class="token comment">// Object</span>
<span class="token keyword">typeof</span> variable <span class="token operator">===</span> <span class="token string">'object'</span>

<span class="token comment">// RegExp</span>
variable <span class="token keyword">instanceof</span> <span class="token class-name">RegExp</span>

<span class="token comment">// Array</span>
variable <span class="token keyword">instanceof</span> <span class="token class-name">Array</span>

<span class="token comment">// null</span>
variable <span class="token operator">===</span> <span class="token keyword">null</span>

<span class="token comment">// null or undefined</span>
variable <span class="token operator">==</span> <span class="token keyword">null</span>

<span class="token comment">// undefined</span>
<span class="token keyword">typeof</span> variable <span class="token operator">===</span> <span class="token string">'undefined'</span>
</code></pre></div><h3 id="类型转换"><a href="#类型转换" class="header-anchor">#</a> 类型转换</h3> <p>转换成 string 时，使用 + ''</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// good</span>
num <span class="token operator">+</span> <span class="token string">''</span><span class="token punctuation">;</span>

<span class="token comment">// bad</span>
<span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
num<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">String</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>转换成 number 时，通常使用 +</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>
<span class="token comment">// good</span>
<span class="token operator">+</span>str<span class="token punctuation">;</span>

<span class="token comment">// bad</span>
<span class="token function">Number</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>string 转换成 number，要转换的字符串结尾包含非数字并期望忽略时，使用 parseInt</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> width <span class="token operator">=</span> <span class="token string">'200px'</span><span class="token punctuation">;</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span>width<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>转换成 boolean 时，使用 !!</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> num <span class="token operator">=</span> <span class="token number">3.14</span><span class="token punctuation">;</span>
<span class="token operator">!</span><span class="token operator">!</span>num<span class="token punctuation">;</span>
</code></pre></div><p>number 去除小数点，使用 Math.floor / Math.round / Math.ceil，不使用 parseInt</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// good</span>
<span class="token keyword">const</span> num <span class="token operator">=</span> <span class="token number">3.14</span><span class="token punctuation">;</span>
Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// bad</span>
<span class="token keyword">const</span> num <span class="token operator">=</span> <span class="token number">3.14</span><span class="token punctuation">;</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="对象"><a href="#对象" class="header-anchor">#</a> 对象</h3> <p>使用对象字面量 {} 创建新 Object</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// good</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// bad</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>for in 遍历对象时, 使用 hasOwnProperty 过滤掉原型中的属性</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> newInfo <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> info<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>info<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        newInfo<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> info<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="数组"><a href="#数组" class="header-anchor">#</a> 数组</h3> <p>使用字面量值创建数组</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// bad</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// good</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
</code></pre></div><p>数组中添加元素使用 push</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

<span class="token comment">// bad</span>
arr<span class="token punctuation">[</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'test'</span>

<span class="token comment">// goodi</span>
arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span>
</code></pre></div><p>使用拓展运算符 ... 复制数组</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> arrCopy <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length

<span class="token comment">// bad</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> 
<span class="token punctuation">{</span>  arrCopy<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">}</span>

<span class="token comment">// good</span>
arrCopy <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>items<span class="token punctuation">]</span>
</code></pre></div><p>使用数组的 map 等方法时，请使用 return 声明，如果是单一声明语句的情况，可省略 return</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// good</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> 
<span class="token keyword">const</span> y <span class="token operator">=</span> x <span class="token operator">+</span> <span class="token number">1</span>  
<span class="token keyword">return</span> x <span class="token operator">*</span> y<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// good</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=&gt;</span> x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>

<span class="token comment">// bad</span>
<span class="token keyword">const</span> flat <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
 <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">memo<span class="token punctuation">,</span> item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>           <span class="token keyword">const</span> flatten <span class="token operator">=</span> memo<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>  
    flat<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> flatten
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// good</span>
<span class="token keyword">const</span> flat <span class="token operator">=</span> <span class="token punctuation">{</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">memo<span class="token punctuation">,</span> item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> 
    <span class="token keyword">const</span> flatten <span class="token operator">=</span> memo<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> 
    flat<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> flatten 
    <span class="token keyword">return</span> flatten<span class="token punctuation">}</span>
<span class="token punctuation">)</span>

<span class="token comment">// bad</span>
inbox<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  
    <span class="token keyword">const</span> <span class="token punctuation">{</span> subject<span class="token punctuation">,</span> author <span class="token punctuation">}</span> <span class="token operator">=</span> msg 
    <span class="token keyword">if</span> <span class="token punctuation">(</span>subject <span class="token operator">===</span> <span class="token string">'Mockingbird'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    
        <span class="token keyword">return</span> author <span class="token operator">===</span> <span class="token string">'Harper Lee'</span> 
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> 
        <span class="token keyword">return</span> <span class="token boolean">false</span>  
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// good</span>
inbox<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  
    <span class="token keyword">const</span> <span class="token punctuation">{</span> subject<span class="token punctuation">,</span> author <span class="token punctuation">}</span> <span class="token operator">=</span> msg  
    <span class="token keyword">if</span> <span class="token punctuation">(</span>subject <span class="token operator">===</span> <span class="token string">'Mockingbird'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   
        <span class="token keyword">return</span> author <span class="token operator">===</span> <span class="token string">'Harper Lee'</span>  
    <span class="token punctuation">}</span>  
    <span class="token keyword">return</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>清空数组</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
arr<span class="token punctuation">.</span>length<span class="token operator">=</span> <span class="token number">0</span>
</code></pre></div><h3 id="字符串"><a href="#字符串" class="header-anchor">#</a> 字符串</h3> <p>字符串统一使用单引号的形式 ''</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// bad</span>
<span class="token keyword">const</span> nickName <span class="token operator">=</span> <span class="token string">&quot;trick&quot;</span>

<span class="token comment">// good</span>
<span class="token keyword">const</span> nickName <span class="token operator">=</span> <span class="token string">'trick'</span>
</code></pre></div><p>字符串太长的时候，请不要使用字符串连接符换行 \，而是使用 +</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'it is to long'</span><span class="token operator">+</span>
<span class="token string">'it is to long. it is to long'</span> <span class="token operator">+</span> 
<span class="token string">'it is to long'</span>
</code></pre></div><p>程序化生成字符串时，请使用模板字符串</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> test <span class="token operator">=</span> <span class="token string">'test'</span>

<span class="token comment">// bad</span>
<span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> test<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// bad</span>
<span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'a'</span> <span class="token operator">+</span> <span class="token string">'b'</span> <span class="token operator">+</span> test

<span class="token comment">// good</span>
<span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">ab</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>test<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
</code></pre></div><h3 id="函数"><a href="#函数" class="header-anchor">#</a> 函数</h3> <p>请使用函数声明，而不是函数表达式</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// bad</span>
<span class="token keyword">const</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
<span class="token comment">// do something</span>
<span class="token punctuation">}</span>

<span class="token comment">// good</span>
<span class="token keyword">function</span> <span class="token function">foo</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
<span class="token comment">// do something</span>
<span class="token punctuation">}</span>
</code></pre></div><p>不要在非函数代码块中声明函数</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// bad</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>isUse<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token keyword">function</span> <span class="token function">test</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   
    <span class="token comment">// do something  </span>
<span class="token punctuation">}</span><span class="token punctuation">}</span>

<span class="token comment">// good</span>
<span class="token keyword">let</span> test
<span class="token keyword">if</span> <span class="token punctuation">(</span>isUse<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token function-variable function">test</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  
    <span class="token comment">// do something  </span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>不要更改函数参数值</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// bad</span>
<span class="token keyword">function</span> <span class="token function">test</span> <span class="token punctuation">(</span><span class="token parameter">opts</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    opts <span class="token operator">=</span> opts <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// good</span>
<span class="token keyword">function</span> <span class="token function">test</span> <span class="token punctuation">(</span><span class="token parameter">opts <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="解构赋值"><a href="#解构赋值" class="header-anchor">#</a> 解构赋值</h3> <p>当需要使用对象的多个属性时，请使用解构赋值</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// bad</span>
<span class="token keyword">function</span> <span class="token function">getFullName</span> <span class="token punctuation">(</span><span class="token parameter">user</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token keyword">const</span> firstName <span class="token operator">=</span> user<span class="token punctuation">.</span>firstName  
    <span class="token keyword">const</span> lastName <span class="token operator">=</span> user<span class="token punctuation">.</span>lastName  
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>firstName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>lastName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span>

<span class="token comment">// good</span>
<span class="token keyword">function</span> <span class="token function">getFullName</span> <span class="token punctuation">(</span><span class="token parameter">user</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token keyword">const</span> <span class="token punctuation">{</span> firstName<span class="token punctuation">,</span> lastName <span class="token punctuation">}</span> <span class="token operator">=</span> user 
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>firstName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>lastName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span>

<span class="token comment">// better</span>
<span class="token keyword">function</span> <span class="token function">getFullName</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> firstName<span class="token punctuation">,</span> lastName <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>firstName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>lastName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span>
</code></pre></div><p>当需要使用数组的多个值时，请同样使用解构赋值</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>

<span class="token comment">// bad</span>
<span class="token keyword">const</span> first <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> second <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>

<span class="token comment">// good</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>first<span class="token punctuation">,</span> second<span class="token punctuation">]</span> <span class="token operator">=</span> arr
</code></pre></div><p>函数需要回传多个值时，请使用对象的解构，而不是数组的解构</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// bad</span>
<span class="token keyword">function</span> <span class="token function">doSomething</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token keyword">return</span> <span class="token punctuation">[</span>top<span class="token punctuation">,</span> right<span class="token punctuation">,</span> bottom<span class="token punctuation">,</span> left<span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token comment">// 如果是数组解构，那么在调用时就需要考虑数据的顺序</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>top<span class="token punctuation">,</span> xx<span class="token punctuation">,</span> xxx<span class="token punctuation">,</span> left<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// good</span>
<span class="token keyword">function</span> <span class="token function">doSomething</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token keyword">return</span> <span class="token punctuation">{</span> top<span class="token punctuation">,</span> right<span class="token punctuation">,</span> bottom<span class="token punctuation">,</span> left <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 此时不需要考虑数据的顺序</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> top<span class="token punctuation">,</span> left <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="条件"><a href="#条件" class="header-anchor">#</a> 条件</h3> <p>使用类型严格的 ===</p> <p>等同 == 和 严格等 === 的区别</p> <ul><li>==， 两边值类型不同的时候，要先进行类型转换，再比较</li> <li>===，不做类型转换，类型不同的一定不等</li></ul> <p>关于等同 == 操作</p> <ol><li>如果两个值具有相同类型，会进行===比较，返回===的比较值</li> <li>如果两个值不具有相同类型，也有可能返回true</li> <li>如果一个值是null另一个值是undefined，返回true</li> <li>如果一个值是string另个是number，会把string转换成number再进行比较</li> <li>如果一个值是true，会把它转成1再比较，false会转成0</li></ol> <p>简单的总结：</p> <ul><li>false 除了和自身比较为 true 外，和 0，&quot;&quot; 比较也为 true</li> <li>null 只和 undefined 比较时为 true， 反过来 undefined 也仅和 null 比较为 true，没有第二个</li> <li>0 除了和 false 比较为 true，还有空字符串 ''&quot; 和空数组 []</li> <li>空字符串 '' 除了和 false 比较为 true，还有一个数字 0</li></ul> <h3 id="javascript-中的真假"><a href="#javascript-中的真假" class="header-anchor">#</a> javascript 中的真假</h3> <h5 id="假"><a href="#假" class="header-anchor">#</a> 假</h5> <ul><li>false</li> <li>null</li> <li>undefined</li> <li>0'' (空字符串)</li> <li>NaN</li></ul> <h3 id="循环"><a href="#循环" class="header-anchor">#</a> 循环</h3> <p>不要在循环体中包含函数表达式，事先将函数提取到循环体外</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// good</span>
<span class="token keyword">const</span> width <span class="token operator">=</span> wrap<span class="token punctuation">.</span>offsetWidth <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">=</span> elements<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> element <span class="token operator">=</span> elements<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    element<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> width<span class="token punctuation">;</span>
    <span class="token comment">// ......</span>
<span class="token punctuation">}</span>


<span class="token comment">// bad</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">=</span> elements<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> element <span class="token operator">=</span> elements<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    element<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> wrap<span class="token punctuation">.</span>offsetWidth <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
    <span class="token comment">// ......</span>
<span class="token punctuation">}</span>
</code></pre></div><p>对循环内多次使用的不变值，在循环外用变量缓存</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">=</span> elements<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> element <span class="token operator">=</span> elements<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// ......</span>
<span class="token punctuation">}</span>
</code></pre></div><p>对有序集合进行顺序无关的遍历时，使用逆序遍历</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> len <span class="token operator">=</span> elements<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>len<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> element <span class="token operator">=</span> elements<span class="token punctuation">[</span>len<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// ......</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="代码注释"><a href="#代码注释" class="header-anchor">#</a> 代码注释</h2> <h3 id="单行注释"><a href="#单行注释" class="header-anchor">#</a> 单行注释</h3> <p>必须独占一行。// 后跟一个空格，缩进与下一行被注释说明的代码一致</p> <h3 id="多行注释"><a href="#多行注释" class="header-anchor">#</a> 多行注释</h3> <p>避免使用 /<em>...</em>/ 这样的多行注释。有多行注释内容时，使用多个单行注释</p> <h3 id="文件注释"><a href="#文件注释" class="header-anchor">#</a> 文件注释</h3> <p>文件顶部必须包含文件注释，用 @file 标识文件说明。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/** 
* @file Describe the file 
 * @author author-name(mail-name@domain.com) 
 *         author-name2(mail-name2@domain.com)
*/</span>
</code></pre></div><h3 id="类class注释"><a href="#类class注释" class="header-anchor">#</a> 类Class注释</h3> <p>使用 @class 标记类或构造函数</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/** 
* 描述 
* 
* @class
*/</span>
<span class="token keyword">function</span> <span class="token function">Developer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// constructor body</span>
<span class="token punctuation">}</span>
</code></pre></div><p>使用 @extends 标记类的继承信息</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/**
 * 描述
 *
 * @class
 * @extends Developer
 */</span>
<span class="token keyword">function</span> <span class="token function">Fronteer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">Developer</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// constructor body</span>
<span class="token punctuation">}</span>
util<span class="token punctuation">.</span><span class="token function">inherits</span><span class="token punctuation">(</span>Fronteer<span class="token punctuation">,</span> Developer<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="函数-方法注释"><a href="#函数-方法注释" class="header-anchor">#</a> 函数/方法注释</h3> <ul><li>函数/方法注释必须包含函数说明，有参数和返回值时必须使用注释标识</li> <li>参数和返回值注释必须包含类型信息和说明</li> <li>当函数是内部函数，外部不可访问时，可以使用 @inner 标识</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/** 
* 函数描述 
* 
* @param {string} p1 参数1的说明 
* @param {string} p2 参数2的说明，比较长 
*     那就换行了.
* @param {number=} p3 参数3的说明（可选）
* @return {Object} 返回值描述 
*/</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">p1<span class="token punctuation">,</span> p2<span class="token punctuation">,</span> p3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> p3 <span class="token operator">=</span> p3 <span class="token operator">||</span> <span class="token number">10</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        p1<span class="token punctuation">:</span> p1<span class="token punctuation">,</span>
        p2<span class="token punctuation">:</span> p2<span class="token punctuation">,</span>
        p3<span class="token punctuation">:</span> p3
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="事件注释"><a href="#事件注释" class="header-anchor">#</a> 事件注释</h3> <p>须使用 @event 标识事件，事件参数的标识与方法描述的参数标识相同</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/** 
* 值变更时触发 * 
* @event 
* @param {Object} e e描述 
* @param {string} e.before before描述 
* @param {string} e.after after描述 
*/</span>
<span class="token function-variable function">onchange</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div><p>对于事件对象的注释，使用 @param 标识，生成文档时可读性更好</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/** 
* 点击处理 
* 
* @fires Select#change 
* @private 
*/</span>
<span class="token class-name">Select</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">clickHandler</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">/**     
    * 值变更时触发     
    *     
    * @event Select#change     
    * @param {Object} e e描述     
    * @param {string} e.before before描述     
    * @param {string} e.after after描述    
    */</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">fire</span><span class="token punctuation">(</span>
        <span class="token string">'change'</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            before<span class="token punctuation">:</span> <span class="token string">'foo'</span><span class="token punctuation">,</span>
            after<span class="token punctuation">:</span> <span class="token string">'bar'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="常量注释"><a href="#常量注释" class="header-anchor">#</a> 常量注释</h3> <p>常量必须使用 @const 标记，并包含说明和类型信息</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/** 
* 常量说明 
* 
* @const 
* @type {string} 
*/</span>
<span class="token keyword">var</span>  <span class="token constant">REQUEST_URL</span> <span class="token operator">=</span> <span class="token string">'myurl.do'</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="复杂类型注释"><a href="#复杂类型注释" class="header-anchor">#</a> 复杂类型注释</h3> <p>类型未定义的复杂结构的注释，可以使用 @typedef 标识来定义</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/** 
* 服务器 
* 
* @typedef {Object} namespaceA~Server 
* @property {string} host 主机 
* @property {number} port 端口 
*/</span>

<span class="token comment">/** 
* 服务器列表 
* 
* @type {Array.&lt;namespaceA~Server&gt;}
*/</span>
<span class="token keyword">var</span> servers <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        host<span class="token punctuation">:</span> <span class="token string">'1.2.3.4'</span><span class="token punctuation">,</span>
        port<span class="token punctuation">:</span> <span class="token number">8080</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        host<span class="token punctuation">:</span> <span class="token string">'1.2.3.5'</span><span class="token punctuation">,</span>
        port<span class="token punctuation">:</span> <span class="token number">8088</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="amd-模块注释"><a href="#amd-模块注释" class="header-anchor">#</a> AMD 模块注释</h3> <p>AMD 模块使用 @module 或 @exports 标识</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/**        
* foo description        
*
* @exports Foo        
*/</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/code/HTML.html" class="prev">HTML</a></span> <span class="next"><a href="/code/image.html">image</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.4311548a.js" defer></script><script src="/assets/js/2.d69afe28.js" defer></script><script src="/assets/js/8.1e80f925.js" defer></script>
  </body>
</html>
